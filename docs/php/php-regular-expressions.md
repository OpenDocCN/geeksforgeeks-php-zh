# PHP|正则表达式

> Original: [https://www.geeksforgeeks.org/php-regular-expressions/](https://www.geeksforgeeks.org/php-regular-expressions/)

通常称为正则表达式(Regex)的正则表达式是以文本字符串的形式描述特殊搜索模式的字符序列。 它们基本上用于编程世界的算法，用于匹配一些松散定义的模式以实现一些相关任务。 有时，正则表达式被理解为一种带有模式符号的小型编程语言，允许用户解析文本字符串。 字符的确切序列事先是不可预测的，因此正则表达式有助于根据模式定义获取所需的字符串。

正则表达式是描述匹配特定文本量的字符串模式的一种紧凑方式。 如你所知，PHP 是一种开源语言，通常用于网站创建，它提供正则表达式函数作为重要的工具。 与 PHP 一样，许多其他编程语言也有自己的正则表达式实现。 其他应用程序也是如此，它们自己支持具有各种语法的正则表达式。 许多可用的现代语言和工具在非常大的文件和字符串上应用正则表达式。 让我们来看看正则表达式在我们的应用程序中的一些优势和用法。

**正则表达式的优点和用法：**
在许多情况下，只要在自由文本字段中收集数据，开发人员就会遇到问题，因为大多数编程都要处理数据输入。 正则表达式在当今的应用程序编程中几乎无处不在。

*   正则表达式有助于验证程序员感兴趣的文本字符串。
*   它为分析、搜索模式和修改文本数据提供了一个强大的工具。
*   它有助于搜索特定的字符串模式，并以灵活的方式提取匹配结果。
*   它有助于解析文本文件，查找定义的字符序列以供进一步分析或数据操作。
*   借助内置的 regexes 函数，可以提供轻松简单的模式识别解决方案。
*   它有效地节省了寻找特定字符串模式的开发时间。
*   它有助于验证重要的用户信息，如电子邮件地址、电话号码和 IP 地址。
*   它有助于根据搜索结果或输入突出显示文件中的特殊关键字。
*   它有助于识别特定的模板标记，并根据需要用实际数据替换这些数据。
*   Regex 对于创建识别标签的 HTML 模板系统非常有用。
*   Regex 主要用于浏览器检测、垃圾邮件过滤、密码强度检查和表单验证。

我们不能涵盖该主题下的所有内容，但让我们来看看一些主要的正则表达式概念。 下表显示了一些正则表达式以及与正则表达式模式匹配的相应字符串。

| 正则表达式 | 配合 / 使相配 / 敌得过 |
| 极客 | 字符串*“极客”* |
| ^极客 | 以*“Geek”*开头的字符串 |
| 极客$ | 末尾有*个“极客”*的字符串。 |
| ^极客$ | 字符串中的*“极客”*是单独出现在字符串上的。 |
| [ABC] | A、b 或 c |
| [a-z] | 任何小写字母 |
| [^A-Z] | 任何不是大写字母的字母 |
| (GIF&#124;PNG) | *“gif”*或*“png”* |
| [a-z]+ | 一个或多个小写字母 |
| ^[a-zA-Z0-9]{1，}$ | 至少包含一个数字或一个字母的任何单词 |
| ([ax])([by]) | AB、AY、XB、XY |
| [^A-Za-z0-9] | 除字母或数字以外的任何符号 |
| ([A-Z]{3}&#124;[0-9]{5}) | 匹配三个字母或五个数字 |

**注意：**可以通过应用一些基本的正则表达式规则来创建复杂的搜索模式。 正则表达式甚至使用许多算术运算符(如+、^、-)来创建小型复杂模式。

**正则表达式中的运算符：**让我们来看看 PHP 正则表达式中的一些运算符。

| 操作员 / 经营者 / 运算符号 / 接线员 | 描述 / 描写 / 形容 / 类别 |
| ^ | 它表示字符串的开始。 |
| 美元 | 它表示字符串的结尾。 |
| 。 | 它几乎表示任何单个字符。 |
| () | 它表示一组表情。 |
| [] | 它查找一系列字符，例如[xyz]表示 x、y 或 z。 |
| [^] | 它会查找不在范围内的项目，例如[^abc]表示不是 a、b 或 c。 |
| -(破折号) | 它查找给定项目范围内的字符范围，例如，[a-z]表示从 a 到 z。 |
| &#124;(管道)&#124;(管道) | 它是逻辑或，例如 x&#124;y 表示 x 或 y。 |
| ？ | 它表示前面的字符或项目范围中的零个或一个。 |
| *** | 它表示零个或多个前面的字符或项目范围。 |
| ++ | 它表示一个或多个前面的字符或项目范围。 |
| {n} | 它正好表示前面字符或项范围的 n 倍，例如 n{2}。 |
| {n，} | 它表示至少 n 次前面的字符或项目范围，例如 n{2，}。 |
| {n,m} | 它表示至少 n 次但不超过 m 次，例如 n{2，4}表示 n 的 2 到 4 次。 |
| \ | 它表示转义字符。 |

**正则表达式中的特殊字符类：**让我们来看看正则表达式中使用的一些特殊字符。

| 特殊字符 | 意义 / 隐含意思 / 内涵 / 目 |
| \n | 它表示一条新的线。 |
| \r | 它表示回车。 |
| \t | 它表示标签。 |
| V.。 | 它表示垂直制表符。 |
| \F | 它表示换页。 |
| _ | 它表示八进制字符 xxx。 |
| \xhh | 它表示十六进制字符 HH。 |

**速记字符集：**让我们看看一些可用的速记字符集。

| 速记法 / 简略的表达方式 / 速记 | 意义 / 隐含意思 / 内涵 / 目 |
| \s | 匹配空格字符，如空格、换行符或制表符。 |
| _ | 匹配 0 到 9 之间的任意数字。 |
| \W | 匹配单词字符，包括所有小写和大写字母、数字和下划线。 |

**预定义函数或 Regex 库：**让我们看看 PHP 中正则表达式的预定义函数速查表。 PHP 为程序员提供了许多使用正则表达式的有用函数。

下面列出的内置函数区分大小写。

| 功能 / 目的 / 函数关系 | 定义 |
| [preg_Match()](https://www.geeksforgeeks.org/php-preg_match-function/) | 此函数用于根据某个字符串搜索特定模式。 如果 Pattern 存在，则返回 True，否则返回 False。 |
| PREG_MATCH_ALL() | 此函数用于根据字符串搜索字符串模式的所有匹配项。 此功能对于搜索和替换非常有用。 |
| [ERG_REPLACE()](https://www.geeksforgeeks.org/php-ereg_replace-function/) | 此函数搜索特定的字符串模式，并用替换字符串替换原始字符串(如果找到)。 |
| Eregi_place() | 如果搜索模式不区分大小写，则该函数的行为类似于 erg_place()。 |
| [preg_place()](https://www.geeksforgeeks.org/php-preg_replace-function/) | 如果正则表达式可以在模式和替换字符串中使用，则该函数的行为类似于 erg_place()函数。 |
| _preg_plit()_ | 该函数的行为类似于 PHP Split()函数。 它通过正则表达式作为其参数拆分字符串。 |
| [preg_grep()](https://www.geeksforgeeks.org/php-preg_grep-function/) | 此函数搜索与正则表达式模式匹配的所有元素，并返回输出数组。 |
| PREG_QUOTE() | 此函数用于在匹配正则表达式的每个字符前面使用字符串和引号。 |
| REG() | 此函数用于搜索由模式指定的字符串，如果找到则返回 TRUE，否则返回 FALSE。 |
| 埃雷吉(Eregi) | 如果搜索不区分大小写，则此函数的行为类似于 erg()函数。 |

**注：**

*   默认情况下，正则表达式区分大小写。
*   在 PHP 中，单引号内的字符串和双引号内的字符串是不同的。 前者按字面处理，而对于双引号内的字符串，则意味着打印变量的内容，而不只是打印它们的名称。

**示例 1：**

```
<?php

// Declare a regular expression
$regex = '/^[a-zA-Z ]*$/';

// Declare a string
$nameString = 'Sharukh khan';

// Use preg_match() function to
// search string pattern
if(preg_match($regex, $nameString)) {
    echo("Name string matching with"
        . " regular expression");
}
else {
    echo("Only letters and white space"
        . " allowed in name string");
}

?>
```

发帖主题：Re：Колибри0.7.0

```
Name string matching with regular expression
```

**示例 2：**

```
<?php

// Declare a regular expression
$regex = "/<b>(.*)<\/b>/U";

// Declare a string
$inputString = "Name: <b>John</b> Position: <b>Developer</b>";

// Use preg_match_all() function to perform
// a global regular expression match
preg_match_all($regex, $inputString, $output);

echo $output[0][0]." <br> ".$output[0][1]."\n";

?>
```

发帖主题：Re：Колибри0.7.0

```
John
Developer

```

**示例 3：**

```
<?php

// Declare a regular expression
$regex = "([0-9]+)";

// Declare a string
$original = "Completed graduation in 2004";
$replaceWith = "2002";

// Use ereg_replace() function to search a
// string pattern in an other string
$original = ereg_replace($regex, $replaceWith, $original);

// Display result
echo $original;

?>
```

发帖主题：Re：Колибри0.7.0

```
Completed graduation in 2002
```

**示例 4：**

```
<?php
<?php

// Declare a string
$ip = "134.645.478.670";

// Declare a regular expression
$regex = "/\./";

// Use preg_split() function to
// convert a given string into
// an array
$output = preg_split ($regex, $ip);

echo "$output[0] <br>";
echo "$output[1] <br>";
echo "$output[2] <br>";
echo "$output[3] <br>";

?>
```

发帖主题：Re：Колибри0.7.0

```
134
645
478
670

```

**元字符：**正则表达式中使用的字符有两种：正则字符和元字符。 常规字符是那些具有*‘字面’*含义的字符，元字符是那些在正则表达式中具有*‘特殊’*含义的字符。

| 元字符 | 描述 / 描写 / 形容 / 类别 | 例证 / 范例 / 榜样 / 例子 |
| 。 | 它可以匹配除换行符以外的任何单个字符。 | /./匹配只有一个字符的字符串。 |
| ^ | 它与字符串的开头匹配。 | /^geek/匹配任何以 geek 开头的字符串。 |
| 美元 | 它与字符串末尾的字符串模式匹配。 | /com$/匹配以 com 结尾的字符串，例如 google.com 等。 |
| *** | 它匹配零个或多个字符。 | /com*/匹配通勤、计算机、折衷等。 |
| ++ | 它与前面的字符匹配至少出现一次。 | 例如，/z+oom/匹配缩放。 |
| \ | 它用于在正则表达式中保存元字符。 | /Google\.com/会将点视为文字值，而不是元字符。 |
| A-Z。 | 它匹配小写字母。 | 极客 |
| 阿-Z | 它匹配大写字母。 | 极客 |
| 0-9 | 它可以匹配 0 到 9 之间的任何数字。 | /0-5/匹配 0、1、2、3、4、5 |
| […] | 它与字符类匹配。 | /[PQR]/匹配 PQR |

**其他示例：**

| 正则表达式 | 意义 / 隐含意思 / 内涵 / 目 |
| ^[.-a-z0-9A-Z] | 它匹配包含点、破折号和任意小写字母、0 到 9 之间的数字和大写字母的字符串。 |
| +@[a-z0-9A-Z] | 它匹配开头带有@符号的字符串，后跟任何小写字母、0 到 9 之间的数字和大写字母。 |
| +\.[a-z]{2，6}$/ | 它转义点，然后将字符串与字符串末尾长度在 2 到 6 之间的任何小写字母进行匹配。 |

**注：**

*   元字符在正则表达式模式匹配解决方案中非常强大。 它处理大量复杂的模式处理。
*   每个不是元字符的字符都肯定是常规字符。
*   每个常规字符本身都匹配相同的字符。

**POSIX 正则表达式：**PHP 中的一些正则表达式类似于算术表达式，称为 POSIX 正则表达式。 有时，复杂表达式是通过在正则表达式中组合各种元素或运算符来创建的。 最基本的正则表达式是匹配单个字符的正则表达式。

让我们来看看一些 POSIX 正则表达式。

| 正则表达式 | 意义 / 隐含意思 / 内涵 / 目 |
| [0-9] | 它匹配从 0 到 9 的数字。 |
| [a-z] | 它匹配从 a 到 z 的任何小写字母。 |
| [A-Z] | 它可以匹配从 A 到 Z 的任何大写字母。 |
| [a-Z] | 它可以匹配任何小写字母 a 到大写字母 z。 |
| [：下限：] | 它可以匹配任何小写字母。 |
| [：上部：] | 它可以匹配任何大写字母。 |
| [：Alpha：] | 它匹配 a-z 和 A-Z 中的所有字母字符或字母。 |
| [[：Alpha：]] | 它匹配任何包含字母字符或字母的字符串。 |
| [：alnum：] | 它匹配所有字母数字字符，即所有数字(0-9)和字母(a-z A-Z)。 |
| :: | 它匹配任何包含字母数字字符和数字的字符串。 |
| [：数字：] | 它匹配从 0 到 9 的所有数字。 |
| [[：数字：]] | 它匹配包含 0 到 9 之间数字的任何字符串。 |
| ==同步，由 Elderman 更正==@ELDER_MAN | 它匹配所有的十六进制数字。 |
| [：点：] | 它匹配所有的标点符号。 |
| [:空白:] | 它匹配空格和制表符等空白字符。 |
| [：空格：] | 它匹配所有空格字符，如换行符。 |
| [[：空格：]] | 它匹配任何包含空格的字符串。 |
| [：CNTRL] | 它匹配所有控制字符。 |
| [：图表：] | 它匹配除空格和控制字符之外的所有可见或打印字符。 |
| [：打印：] | 它匹配除控制字符之外的所有打印字符和空格。 |
| [：单词：] | 它匹配所有单词字符，如数字、字母和下划线。 |

**正则表达式中的量词：**量词是特殊字符，它告诉带括号的字符或字符组的数量、频率或实例数或出现的次数。 它们也被称为贪婪和懒惰的表情。 让我们来看看量词的一些概念和例子。

| 量词 | 意义 / 隐含意思 / 内涵 / 目 |
| A + | 它与至少包含一个 a 的字符串匹配。 |
| A* | 它匹配包含零个或多个 a 的字符串。 |
| 一颗？一颗？一颗？ | 它匹配任何包含零个或一个 a 的字符串。 |
| A{x} | 它与字母‘a’精确匹配了 x 次。 |
| A{2，3} | 它匹配任何包含两个或三个 a 出现的字符串。 |
| A{2，} | 它匹配任何包含至少两个 a 出现的字符串。 |
| A{2} | 它匹配恰好出现两个 a 的任何字符串。 |
| A{，y} | 它匹配任何包含不超过 y 个 a 的出现的字符串。 |
| A $ | 它匹配末尾带有‘a’的任何字符串。 |
| ^a | 它匹配任何开头带有‘a’的字符串。 |
| [^a-zA-Z] | 它匹配不包含从 a 到 z 和从 A 到 Z 的字符的任何字符串模式。 |
| 天哪。 | 它匹配任何包含 a 的字符串模式，然后是任何字符，然后是另一个 a。 |
| ^.{3}$ | 它匹配恰好包含三个字符的任何字符串。 |

**注：**

*   表达式中的$字符将与目标字符串的末尾匹配。
*   正则表达式中的*、？、+符号表示字符出现的频率。 如果它出现零次或多次，则为零次或一次且一次或多次。
*   表达式中的^字符将与目标字符串的开头匹配。
*   那就是。 元字符可匹配除换行符以外的任何单个字符。

**众所周知的正则表达式引擎：**

*   Regexp
*   RegexBuddy

**结论：**正则表达式是描述特定模式中的某些字符串文本的模式，或者它被定义为用一行表示的模式匹配算法。 正则表达式在编程世界中对于验证检查和识别特定模板非常有用。 PHP 提供了许多支持正则表达式的内置函数。 元字符有助于创建复杂的模式。